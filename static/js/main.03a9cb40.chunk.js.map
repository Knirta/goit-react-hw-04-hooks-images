{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/LoaderContainer/LoaderContainer.module.css","components/SearchBar/SearchBar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/LoaderContainer/LoaderContainer.js","components/Modal/Modal.js","services/images-api.js","App.js","index.js","components/SearchBar/SearchBar.module.css"],"names":["module","exports","SearchBar","onSubmit","useState","value","setValue","className","s","Searchbar","SearchForm","e","preventDefault","toast","info","type","SearchForm__button","SearchForm__buttonLabel","SearchForm__input","autoComplete","autoFocus","placeholder","onChange","currentTarget","ImageGalleryItem","webUrl","largeUrl","desc","openModal","onClick","src","alt","ImageGalleryItem__image","propTypes","images","PropTypes","array","func","isRequired","ImageGallery","map","image","id","webformatURL","largeImageURL","tags","Button","text","LoaderContainer","children","Container","modalRoot","document","querySelector","Modal","url","closeModal","handleKeyDown","code","useEffect","window","addEventListener","removeEventListener","createPortal","Overlay","target","BASE_URL","API_KEY","api","fetchImages","searchQuery","page","fetch","App","setSearchQuery","loading","setLoading","setImages","setPage","showButton","setShowButton","error","setError","setOpenModal","modalData","setModalData","prevSearchQueryRef","useRef","prevSearchQuery","current","imagesAPI","then","response","json","hits","length","prevImages","scrollTo","top","documentElement","scrollHeight","behavior","catch","finally","query","message","dataset","color","height","width","prevPage","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.03a9cb40.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3CvRl\",\"ImageGalleryItem__image\":\"ImageGalleryItem_ImageGalleryItem__image__3Jj9u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"LoaderContainer_Container__2fPYl\"};","import { useState } from \"react\";\nimport { toast } from \"react-toastify\";\nimport PropTypes from \"prop-types\";\nimport s from \"./SearchBar.module.css\";\n\nconst SearchBar = ({ onSubmit }) => {\n  const [value, setValue] = useState(\"\");\n\n  const reset = () => setValue(\"\");\n\n  const handleOnSubmit = (e) => {\n    e.preventDefault();\n    if (value === \"\") {\n      return toast.info(\"Enter query\");\n    }\n    onSubmit(value);\n    reset();\n  };\n\n  return (\n    <header className={s.Searchbar}>\n      <form className={s.SearchForm} onSubmit={handleOnSubmit}>\n        <button type=\"submit\" className={s.SearchForm__button}>\n          <span className={s.SearchForm__buttonLabel}>Search</span>\n        </button>\n\n        <input\n          value={value}\n          className={s.SearchForm__input}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          onChange={(e) => setValue(e.currentTarget.value)}\n        />\n      </form>\n    </header>\n  );\n};\n\nSearchBar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default SearchBar;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"./ImageGalleryItem.module.css\";\n\nconst ImageGalleryItem = ({ webUrl, largeUrl, desc, openModal }) => {\n  return (\n    <li\n      className={s.ImageGalleryItem}\n      data-url={largeUrl}\n      data-desc={desc}\n      onClick={openModal}\n    >\n      <img src={webUrl} alt={desc} className={s.ImageGalleryItem__image} />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  webUrl: PropTypes.string.isRequired,\n  largeUrl: PropTypes.string.isRequired,\n  desc: PropTypes.string.isRequired,\n  openModal: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport ImageGalleryItem from \"../ImageGalleryItem\";\nimport s from \"./ImageGallery.module.css\";\n\nconst ImageGallery = ({ images, openModal }) => {\n  return (\n    <ul className={s.ImageGallery}>\n      {images.map((image) => {\n        const { id, webformatURL, largeImageURL, tags } = image;\n        return (\n          <ImageGalleryItem\n            key={id}\n            webUrl={webformatURL}\n            largeUrl={largeImageURL}\n            desc={tags}\n            openModal={openModal}\n          />\n        );\n      })}\n    </ul>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  images: PropTypes.array,\n  openModal: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"./Button.module.css\";\n\nconst Button = ({ text, onClick }) => {\n  return (\n    <button className={s.Button} type=\"button\" onClick={onClick}>\n      {text}\n    </button>\n  );\n};\n\nButton.propTypes = {\n  text: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"./LoaderContainer.module.css\";\n\nconst LoaderContainer = ({ children }) => {\n  return <div className={s.Container}>{children}</div>;\n};\n\nLoaderContainer.propTypes = {\n  children: PropTypes.node,\n};\n\nexport default LoaderContainer;\n","import React, { useEffect } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport s from \"./Modal.module.css\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nconst Modal = ({ url, desc, closeModal }) => {\n  const handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      closeModal();\n    }\n  };\n\n  const handleBackdropClick = (e) => {\n    if (e.currentTarget === e.target) {\n      closeModal();\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => {\n      window.removeEventListener(\"keydown\", handleKeyDown);\n    };\n  });\n\n  return createPortal(\n    <div className={s.Overlay} onClick={handleBackdropClick}>\n      <div className={s.Modal}>\n        <img src={url} alt={desc} />\n      </div>\n    </div>,\n    modalRoot\n  );\n};\n\nModal.propTypes = {\n  url: PropTypes.string.isRequired,\n  desc: PropTypes.string.isRequired,\n  closeModal: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","const BASE_URL = \"https://pixabay.com/api/\";\nconst API_KEY = \"21680685-e17dbc926fcd99c5b67998b00\";\n\nconst fetchImages = (searchQuery, page = 1) => {\n  return fetch(\n    `${BASE_URL}?q=${searchQuery}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\n  );\n};\n\nconst api = { fetchImages };\n\nexport default api;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport SearchBar from \"./components/SearchBar\";\nimport Loader from \"react-loader-spinner\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport Button from \"./components/Button\";\nimport LoaderContainer from \"./components/LoaderContainer\";\nimport Modal from \"./components/Modal\";\nimport imagesAPI from \"./services/images-api\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\nconst App = () => {\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [images, setImages] = useState([]);\n  const [page, setPage] = useState(1);\n  const [showButton, setShowButton] = useState(false);\n  const [error, setError] = useState(null);\n  const [openModal, setOpenModal] = useState(false);\n  const [modalData, setModalData] = useState({ url: \"\", desc: \"\" });\n\n  const { url, desc } = modalData;\n\n  const prevSearchQueryRef = useRef();\n\n  const handleFormSubmit = (query) => {\n    setSearchQuery(query);\n    setPage(1);\n    setImages([]);\n  };\n\n  const handleLoadMoreButton = (e) => {\n    setPage((prevPage) => prevPage + 1);\n  };\n\n  const smoothScroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n  const handleOpenModal = (e) => {\n    const { url, desc } = e.currentTarget.dataset;\n    setOpenModal(true);\n    setModalData({ url, desc });\n  };\n\n  const closeModal = () => {\n    setOpenModal(false);\n  };\n\n  useEffect(() => {\n    if (searchQuery === \"\") {\n      return;\n    }\n\n    const prevSearchQuery = prevSearchQueryRef.current;\n\n    setLoading(true);\n    setShowButton(false);\n\n    imagesAPI\n      .fetchImages(searchQuery, page)\n      .then((response) => response.json())\n      .then(({ hits }) => {\n        if (hits.length === 0) {\n          if (searchQuery !== prevSearchQuery) {\n            return toast.info(\"Enter another query\");\n          } else {\n            return toast.info(\"There ara no more images, enter new query\");\n          }\n        }\n\n        if (hits.length === 12) {\n          setShowButton(true);\n        } else {\n          setShowButton(false);\n        }\n\n        setImages((prevImages) => [...prevImages, ...hits]);\n\n        if (page !== 1) {\n          smoothScroll();\n        }\n\n        prevSearchQueryRef.current = searchQuery;\n      })\n      .catch((error) => setError(error))\n      .finally(() => setLoading(false));\n  }, [searchQuery, page]);\n\n  return (\n    <>\n      <SearchBar onSubmit={handleFormSubmit} />\n\n      {error && <p>{error.message}</p>}\n\n      <ImageGallery images={images} openModal={handleOpenModal} />\n\n      {loading && (\n        <LoaderContainer>\n          <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} />\n        </LoaderContainer>\n      )}\n\n      {showButton && !loading && (\n        <Button text=\"Load more\" onClick={handleLoadMoreButton} />\n      )}\n\n      {openModal && <Modal url={url} desc={desc} closeModal={closeModal} />}\n\n      <ToastContainer autoClose={3000} />\n    </>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"modern-normalize/modern-normalize.css\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__19WMJ\",\"SearchForm\":\"SearchBar_SearchForm__1k1JW\",\"SearchForm__button\":\"SearchBar_SearchForm__button__3d0oz\",\"SearchForm__buttonLabel\":\"SearchBar_SearchForm__buttonLabel__2jhuA\",\"SearchForm__input\":\"SearchBar_SearchForm__input__30P3e\"};"],"sourceRoot":""}