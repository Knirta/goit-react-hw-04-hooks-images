(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__3CvRl",ImageGalleryItem__image:"ImageGalleryItem_ImageGalleryItem__image__3Jj9u"}},11:function(e,t,a){e.exports={Overlay:"Modal_Overlay__2AxMb",Modal:"Modal_Modal__2WBTT"}},14:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__DncjJ"}},15:function(e,t,a){e.exports={Button:"Button_Button__3R1xi"}},16:function(e,t,a){e.exports={Container:"LoaderContainer_Container__2fPYl"}},22:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(4),o=a.n(c),l=(a(21),a(22),a(12)),s=a(3),u=a(7),i=a(5),m=a.n(i),b=a(1),j=function(e){var t=e.onSubmit,a=Object(n.useState)(""),r=Object(s.a)(a,2),c=r[0],o=r[1];return Object(b.jsx)("header",{className:m.a.Searchbar,children:Object(b.jsxs)("form",{className:m.a.SearchForm,onSubmit:function(e){if(e.preventDefault(),""===c)return u.b.info("Enter query");t(c),o("")},children:[Object(b.jsx)("button",{type:"submit",className:m.a.SearchForm__button,children:Object(b.jsx)("span",{className:m.a.SearchForm__buttonLabel,children:"Search"})}),Object(b.jsx)("input",{value:c,className:m.a.SearchForm__input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){return o(e.currentTarget.value)}})]})})},h=a(13),d=a.n(h),_=a(2),f=a.n(_),O=a(10),g=a.n(O),p=function(e){var t=e.webUrl,a=e.largeUrl,n=e.desc,r=e.openModal;return Object(b.jsx)("li",{className:g.a.ImageGalleryItem,"data-url":a,"data-desc":n,onClick:r,children:Object(b.jsx)("img",{src:t,alt:n,className:g.a.ImageGalleryItem__image})})},x=a(14),S=a.n(x);p.propTypes={images:f.a.array,openModal:f.a.func.isRequired};var y=function(e){var t=e.images,a=e.openModal;return Object(b.jsx)("ul",{className:S.a.ImageGallery,children:t.map((function(e){var t=e.id,n=e.webformatURL,r=e.largeImageURL,c=e.tags;return Object(b.jsx)(p,{webUrl:n,largeUrl:r,desc:c,openModal:a},t)}))})},v=a(15),I=a.n(v),F=function(e){var t=e.text,a=e.onClick;return Object(b.jsx)("button",{className:I.a.Button,type:"button",onClick:a,children:t})},w=a(16),M=a.n(w),k=function(e){var t=e.children;return Object(b.jsx)("div",{className:M.a.Container,children:t})},C=a(11),B=a.n(C),G=document.querySelector("#modal-root"),N=function(e){var t=e.url,a=e.desc,r=e.closeModal,o=function(e){"Escape"===e.code&&r()};return Object(n.useEffect)((function(){return window.addEventListener("keydown",o),function(){window.removeEventListener("keydown",o)}})),Object(c.createPortal)(Object(b.jsx)("div",{className:B.a.Overlay,onClick:function(e){e.currentTarget===e.target&&r()},children:Object(b.jsx)("div",{className:B.a.Modal,children:Object(b.jsx)("img",{src:t,alt:a})})}),G)},L="https://pixabay.com/api/",T="21680685-e17dbc926fcd99c5b67998b00",E={fetchImages:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return fetch("".concat(L,"?q=").concat(e,"&page=").concat(t,"&key=").concat(T,"&image_type=photo&orientation=horizontal&per_page=12"))}},J=(a(44),a(45),function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),o=Object(s.a)(c,2),i=o[0],m=o[1],h=Object(n.useState)([]),_=Object(s.a)(h,2),f=_[0],O=_[1],g=Object(n.useState)(1),p=Object(s.a)(g,2),x=p[0],S=p[1],v=Object(n.useState)(!1),I=Object(s.a)(v,2),w=I[0],M=I[1],C=Object(n.useState)(null),B=Object(s.a)(C,2),G=B[0],L=B[1],T=Object(n.useState)(!1),J=Object(s.a)(T,2),U=J[0],q=J[1],R=Object(n.useState)({url:"",desc:""}),D=Object(s.a)(R,2),P=D[0],W=D[1],z=P.url,A=P.desc;return Object(n.useEffect)((function(){""!==a&&(m(!0),M(!1),E.fetchImages(a,x).then((function(e){return e.json()})).then((function(e){var t=e.hits;if(0===t.length)return u.b.info("There ara no images, enter another query");12===t.length?M(!0):M(!1),O((function(e){return[].concat(Object(l.a)(e),Object(l.a)(t))})),1!==x&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(e){return L(e)})).finally((function(){return m(!1)})))}),[a,x]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(j,{onSubmit:function(e){r(e),S(1),O([])}}),G&&Object(b.jsx)("p",{children:G.message}),Object(b.jsx)(y,{images:f,openModal:function(e){var t=e.currentTarget.dataset,a=t.url,n=t.desc;q(!0),W({url:a,desc:n})}}),i&&Object(b.jsx)(k,{children:Object(b.jsx)(d.a,{type:"ThreeDots",color:"#00BFFF",height:80,width:80})}),w&&!i&&Object(b.jsx)(F,{text:"Load more",onClick:function(e){S((function(e){return e+1}))}}),U&&Object(b.jsx)(N,{url:z,desc:A,closeModal:function(){q(!1)}}),Object(b.jsx)(u.a,{autoClose:3e3})]})});o.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(J,{})}),document.getElementById("root"))},5:function(e,t,a){e.exports={Searchbar:"SearchBar_Searchbar__19WMJ",SearchForm:"SearchBar_SearchForm__1k1JW",SearchForm__button:"SearchBar_SearchForm__button__3d0oz",SearchForm__buttonLabel:"SearchBar_SearchForm__buttonLabel__2jhuA",SearchForm__input:"SearchBar_SearchForm__input__30P3e"}}},[[46,1,2]]]);
//# sourceMappingURL=main.6bfdb5db.chunk.js.map